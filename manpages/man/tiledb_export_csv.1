.TH tiledb_export_csv 1 "27 June 2015" "Version 0.1" "TileDB programs"
 
.SH NAME
tiledb_export_csv - exports the (binary) data of an array into a CSV file

.SH SYNOPSIS
.B tiledb_export_csv 
.BI "-w " "directory " "-A " "array_name " "-f " "filename" 
[
.BI "-a " "attribute_name_1,..."
]
[
.BI "-d " "dim_name_1,..."
]
[
.BI "-m " "mode"
]

.SH DESCRIPTION
.B tiledb_export_csv
exports the (binary) data of an array into a CSV file. The documentation on
the exported CSV format can be found in program \fBtiledb_load_csv\fR.
On error, it prints a message on stderr and returns an error code 
(see \fBEXIT STATUS\fR). 

The following conventions apply to the \fBSYNOPSIS\fR section:

.TS
tab (@);
c lx .
\fBbold text\fR @ type exactly as shown
\fIitalic text\fR @ replace with appropriate argument
[\fB\-a \fIarg\fR]@ any or all options within [ ] are optional
.TE

The user may also specify a subset of attributes and dimensions from the
array to export. Also, he/she may specify any order of attributes and 
dimensions, as well as multiplicities. 
 
In case the user wishes to completely hide the dimensions or the attributes,
he/she should include \fB__hide\fR as the only name in the dimension 
or attribute name list.

Finally, the user may specify whether the array cells should be exported
in the stored order or in \fBreverse\fR.
 
.SH OPTIONS
.TP
.BI "-w" " directory" "\fR, " \fB --workspace=\fIdirectory\fR  
The path to the workspace folder where the TileDB are stored. The path
must exist, and the caller must have read and write permissions on it.

.TP
.BI "-A" " array_name" "\fR, " \fB --array-name=\fIarray_name\fR  
The name of the array whose data will be exported. The array
must be already defined. 

.TP
.BI "-f" " filename" "\fR, " \fB --filename=\fIfilename\fR  
The name of the CSV file. 

.TP
.BI "-a" " attribute_name_1,..." "\fR, " \
\fB --attribute-names=\fIattribute_name_1,...\fR  
The attributes to be exported. Any order and multiplicities are allowed. To
export \fBno\fR attribute, include \fB__hide\fR instead of a name list. To
export \fBall\fR attributes, omit the option.

.TP
.BI "-d" " dim_name_1,..." "\fR, " \
\fB --dim-names=\fIdim_name_1,...\fR  
The coordinates to be exported. Any order and multiplicities are allowed. To
export \fBno\fR coordinates, include \fB__hide\fR instead of a name list. To
export \fBall\fR coordinates, omit the option.

.TP
.BI "-m" " mode" "\fR, " \fB --mode=\fImode\fR  
There are two modes: \fBnormal\fR and \fBreverse\fR. In the former, the cells
are exported in the same order they are stored (i.e., the native order specified
in the array schema). In the latter, the cells are exported in the reverse order
from the one they are stored. If the option is omitted, the default is 
\fBnormal\fR.

.SH EXAMPLES
Assuming that the array has dimensions \fIdim1\fR,\fIdim2\fR and attributes 
\fIattr1\fR,\fIattr2\fR,\fIattr3\fR
.TP
\fBtiledb_export_csv\fR \\ 
    \fB-w \fRmy_workspace/ \\
    \fB-A \fRA \\
    \fB-f \fRA.csv

Exports into \fIA.csv\fR all the cells of array \fIA\fR in the order they are 
stored, including all the coordinates and attributes.

.TP
\fBtiledb_export_csv\fR \\ 
    \fB-w \fRmy_workspace/ \\
    \fB-A \fRA \\
    \fB-f \fRA.csv \\
    \fB-d \fRdim1 \\
    \fB-a \fRattr1,attr2

Exports int \fIA.csv\fR all the cells of \fIA\fR in the order they are stored,
including only the coordinates on the \fIdim1\fR dimension and the values
on the \fIattr1\fR,\fIattr2\fR attributes.

.TP
\fBtiledb_export_csv\fR \\ 
    \fB-w \fRmy_workspace/ \\
    \fB-A \fRA \\
    \fB-f \fRA.csv \\
    \fB-d \fRdim1 \\
    \fB-a \fRattr1,attr2 \\
    \fB-m \fRreverse

Same as above, but the cells are exported in the reverse order.

.TP
\fBtiledb_export_csv\fR \\ 
    \fB-w \fRmy_workspace/ \\
    \fB-A \fRA \\
    \fB-f \fRA.csv \\
    \fB-d \fR__hide \\
    \fB-a \fRattr1,attr2 

 Same as the second example, but no coordinate is exported.

.TP
\fBtiledb_export_csv\fR \\ 
    \fB-w \fRmy_workspace/ \\
    \fB-A \fRA \\
    \fB-f \fRA.csv \\
    \fB-d \fRdim1 \\
    \fB-a \fR__hide

Same as the second example, but no attribute value is exported.

.TP
\fBtiledb_export_csv\fR \\ 
    \fB-w \fRmy_workspace/ \\
    \fB-A \fRA \\
    \fB-f \fRA.csv \\
    \fB-d \fRdim1 \\
    \fB-a \fRattr1,attr2,attr1

Same as the second example, but now the \fIattr1\fR values are shown twice
(once before those of \fIattr2\fR and once after).

.SH EXIT STATUS
.TP 
.B 0
Successful execution
.TP 
.B -1
Parser error
.TP 
.B -2
Undefined array
.TP 
.B -3
File operation failed
.TP 
.B -7
TileDB initialization failed
.TP 
.B -8
TileDB finalization failed
.TP 
.B -14
Failed to open array
.TP 
.B -15
Failed to close array

.SH SEE ALSO
.BR "tiledb_load_csv" "(1) " "tiledb_generate_data" "(1) "

.SH AUTHOR
Stavros Papadopoulos <http://people.csail.mit.edu/stavrosp>, Copyright (c) 2015
