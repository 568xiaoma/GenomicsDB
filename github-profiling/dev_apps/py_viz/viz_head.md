
## Profiling Report of Illumina Data

The task is profiling the performance of GenomicsDB query over VCF samples generated by Illumina VCF generator on HDD and SSD.

#### The pofiling setting:

* GenomicsDB on SSD uses Intel zlib and GenomicsDB on HDD uses Linux zlib
* The GenomicsDB is loaded into 16 partitions
* the queries run in parallel of 1, 4, 8 and 16 respectively against the 16 partition GenomicsDB
* the number of samples are 5000, 10000 and 15000 respectively
* for each setting of sample number, pick 250 and 1000 positions in dense, midmean and sparse areas
* each query run repeat 3 times on the same host.
* all settings run on 2 hosts.

Total <b>864</b> queries.
<br>
####  Result ananlysis

The following graphs compares the 'Elapse Time' and 'CPU%' of the compactable settings between HDD and SSD. The observations:

There are 2 ways to query 1000 positions. The results are (in format of SSD[|HDD] (sparse, midmean, dense) ):
1. 4 parallel with 250 position, the Wall Clock time are: SSD (1, 3, 8) and HDD (3, 23, 24)
2. 1 parallel with 1000 position, the Wall Clock time are: SSD (0, 1, 5) and HDD (0, 9, 13)

when query the same number of positions (1000 per partition)
1. for dense area, SSD times are 5, 26, 28 and 31  
2. for dense area, HDD times are 14, 56, 170 and 225  
* note, there are over head when run multiple mpirun.  

when run 16 parallel queries (the data are from 5000 samples profiling) :
1. HDD takes <b>9+</b> times longer than SSD for 250 x 16 (4000) positions 
2. HDD takes <b>11+</b> times longer than SSD for 1000 x 16 (16000) positions
3. CPU utilizes HDD(5%, 1%, 5 and SSD(12%, 7%, 15%)

Both SSD and HDD remains the same performance over 5000, 10000 and 15000 samples. I think the reson is that the number of positions are the same for various number of samples, the selected positions may be similar.  

### Conclusions
1. Parallel improves query times.
2. SSD remains pretty even query times, 26 - 31 (not count the parallel 1), while HDD increased query time <b>4</b> folds
3. SSD improves query times significantly, up to 20 times.
4. SSD much better utilize CPU times when run queries in parallel.
5. the read throughput SSD is up to <b>7.5</b> folds more than HDD
<br>